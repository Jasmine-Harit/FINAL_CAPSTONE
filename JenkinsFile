pipeline{
    agent any
    environment { 
        registry = "jasmine992/final-capstone" 
        registryCredential = 'jasmineh' 
        dockerImage = '' 
    }    
    tools 
    {
        nodejs 'Node'
    }
    stages 
       {
          stage("Install node modules")
            { 
                steps{
                    sh "npm install"
                }
            }
       }
         stage('install node modules for client')
            {
               when{
               branch 'test'
       }
    steps
    {
       
      sh '''
      cd client
      npm install
      '''
    }
  }


stage(‘package’)
{
  when {
    branch 'prod'
  }
}
}
